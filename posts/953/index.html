<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{&quot;hostname&quot;:&quot;datura35422.github.io&quot;,&quot;root&quot;:&quot;&#x2F;&quot;,&quot;images&quot;:&quot;&#x2F;images&quot;,&quot;scheme&quot;:&quot;Mist&quot;,&quot;version&quot;:&quot;8.4.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;always&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12,&quot;onmobile&quot;:false},&quot;copycode&quot;:false,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:false,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:true,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;},&quot;path&quot;:&quot;&#x2F;search.xml&quot;,&quot;localsearch&quot;:{&quot;enable&quot;:true,&quot;trigger&quot;:&quot;auto&quot;,&quot;top_n_per_article&quot;:1,&quot;unescape&quot;:false,&quot;preload&quot;:false}}</script>
<meta name="description" content="理论Git 是一个分布式版本管理系统，是为了更好地管理Linux内核开发而创立的。 Git可以在任何时间点，把文档的状态作为更新记录保存起来。因此可以把编辑过的文档复原到以前的状态，也可以显示编辑前后的内容差异。 管理历史记录的数据库数据库 (Repository) 是记录文件或目录状态的地方，存储着内容修改的历史记录。在数据库的管理下，把文件和目录修改的历史记录放在对应的目录下。">
<meta property="og:type" content="article">
<meta property="og:title" content="git常用命令">
<meta property="og:url" content="https://datura35422.github.io/posts/953/index.html">
<meta property="og:site_name" content="Wang Wei&#39;s Blog">
<meta property="og:description" content="理论Git 是一个分布式版本管理系统，是为了更好地管理Linux内核开发而创立的。 Git可以在任何时间点，把文档的状态作为更新记录保存起来。因此可以把编辑过的文档复原到以前的状态，也可以显示编辑前后的内容差异。 管理历史记录的数据库数据库 (Repository) 是记录文件或目录状态的地方，存储着内容修改的历史记录。在数据库的管理下，把文件和目录修改的历史记录放在对应的目录下。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-03-13T01:04:00.000Z">
<meta property="article:modified_time" content="2025-03-23T18:16:48.052Z">
<meta property="article:author" content="Wang Wei">
<meta property="article:tag" content="工具">
<meta property="article:tag" content="git">
<meta property="article:tag" content="ssh">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://datura35422.github.io/posts/953/">



<script class="next-config" data-name="page" type="application/json">{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:false,&quot;isPost&quot;:true,&quot;lang&quot;:&quot;zh-CN&quot;,&quot;comments&quot;:true,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;datura35422.github.io&#x2F;posts&#x2F;953&#x2F;&quot;,&quot;path&quot;:&quot;posts&#x2F;953&#x2F;&quot;,&quot;title&quot;:&quot;git常用命令&quot;}</script>

<script class="next-config" data-name="calendar" type="application/json">&quot;&quot;</script>
<title>git常用命令 | Wang Wei's Blog</title><script src="/js/config.js"></script>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Wang Wei's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fas fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fas fa-user fa-fw"></i>关于</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fas fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fas fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fas fa-archive fa-fw"></i>归档</a></li>
        <li class="menu-item menu-item-schedule"><a href="/schedule/" rel="section"><i class="fas fa-calendar fa-fw"></i>日程表</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%90%86%E8%AE%BA"><span class="nav-number">1.</span> <span class="nav-text">理论</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%A1%E7%90%86%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="nav-number">1.1.</span> <span class="nav-text">管理历史记录的数据库</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8F%90%E4%BA%A4"><span class="nav-number">1.2.</span> <span class="nav-text">提交</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B7%A5%E4%BD%9C%E6%A0%91%E5%92%8C%E7%B4%A2%E5%BC%95"><span class="nav-number">1.3.</span> <span class="nav-text">工作树和索引</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9E%E6%88%98"><span class="nav-number">2.</span> <span class="nav-text">实战</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#git-%E9%85%8D%E7%BD%AE"><span class="nav-number">2.1.</span> <span class="nav-text">git 配置</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-%E6%9C%AC%E5%9C%B0%E5%88%9B%E5%BB%BAssh-key"><span class="nav-number">2.1.1.</span> <span class="nav-text">1. 本地创建ssh key</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-%E4%B8%8E%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84%E8%BF%9E%E6%8E%A5"><span class="nav-number">2.1.2.</span> <span class="nav-text">2. 与远程仓库的连接</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-%E9%AA%8C%E8%AF%81%E4%B8%8E%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E8%BF%9E%E6%8E%A5"><span class="nav-number">2.1.3.</span> <span class="nav-text">3. 验证与远程仓库连接</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE"><span class="nav-number">2.1.4.</span> <span class="nav-text">4. 全局配置</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#git-%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="nav-number">2.2.</span> <span class="nav-text">git 基本操作</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-%E5%85%8B%E9%9A%86%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E4%BB%A3%E7%A0%81-git-clone"><span class="nav-number">2.2.1.</span> <span class="nav-text">1. 克隆远程仓库代码 git clone</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-%E6%8B%89%E5%8F%96%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E4%BB%A3%E7%A0%81-git-pull"><span class="nav-number">2.2.2.</span> <span class="nav-text">2. 拉取远程仓库代码 git pull</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-%E5%88%9D%E5%A7%8B%E5%8C%96%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93-git-init"><span class="nav-number">2.2.3.</span> <span class="nav-text">3. 初始化本地仓库 git init</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-%E5%B0%86%E5%B7%A5%E4%BD%9C%E5%8C%BA%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4%E5%88%B0%E6%9A%82%E5%AD%98%E5%8C%BA-git-add"><span class="nav-number">2.2.4.</span> <span class="nav-text">4. 将工作区代码提交到暂存区 git add</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-%E6%9F%A5%E7%9C%8B%E5%8C%BA%E5%88%AB-git-diff"><span class="nav-number">2.2.5.</span> <span class="nav-text">5. 查看区别 git diff</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-%E6%92%A4%E9%94%80%E4%BF%AE%E6%94%B9git-checkout-lt-filename-gt"><span class="nav-number">2.2.6.</span> <span class="nav-text">6. 撤销修改git checkout -- &lt;filename&gt;</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#7-%E5%B0%86%E6%9A%82%E5%AD%98%E5%8C%BA%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4%E5%88%B0%E5%88%86%E6%94%AF-git-commit"><span class="nav-number">2.2.7.</span> <span class="nav-text">7. 将暂存区代码提交到分支 git commit</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6-git-rm"><span class="nav-number">2.2.8.</span> <span class="nav-text">8. 删除文件 git rm</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#9-%E6%9F%A5%E7%9C%8B%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95-git-log"><span class="nav-number">2.2.9.</span> <span class="nav-text">9. 查看历史记录 git log</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#10-%E6%9F%A5%E7%9C%8B%E5%91%BD%E4%BB%A4%E5%8E%86%E5%8F%B2-git-reflog"><span class="nav-number">2.2.10.</span> <span class="nav-text">10. 查看命令历史 git reflog</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#11-%E7%89%88%E6%9C%AC%E5%9B%9E%E9%80%80-git-reset"><span class="nav-number">2.2.11.</span> <span class="nav-text">11.版本回退 git reset</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#12-tag%E6%A0%87%E7%AD%BE-git-tag"><span class="nav-number">2.2.12.</span> <span class="nav-text">12. tag标签 git tag</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#13-%E5%A4%87%E4%BB%BD%E5%BD%93%E5%89%8D%E5%B7%A5%E4%BD%9C%E5%86%85%E5%AE%B9-git-stash"><span class="nav-number">2.2.13.</span> <span class="nav-text">13. 备份当前工作内容 git stash</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#14-%E6%94%B9%E5%86%99%E6%8F%90%E4%BA%A4-git-cherry-pick"><span class="nav-number">2.2.14.</span> <span class="nav-text">14. 改写提交 git cherry-pick</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#15-%E5%90%88%E5%B9%B6%E5%91%BD%E4%BB%A4-git-rebase"><span class="nav-number">2.2.15.</span> <span class="nav-text">15. 合并命令 git rebase</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#16-%E5%8F%96%E6%B6%88%E8%BF%87%E5%8E%BB%E7%9A%84%E6%8F%90%E4%BA%A4-git-revert"><span class="nav-number">2.2.16.</span> <span class="nav-text">16. 取消过去的提交 git revert</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#git-%E5%88%86%E6%94%AF%E6%93%8D%E4%BD%9C"><span class="nav-number">2.3.</span> <span class="nav-text">git 分支操作</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-%E5%88%9B%E5%BB%BA%E5%88%86%E6%94%AF-dev"><span class="nav-number">2.3.1.</span> <span class="nav-text">1. 创建分支 dev</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-%E5%88%87%E6%8D%A2%E5%88%86%E6%94%AF"><span class="nav-number">2.3.2.</span> <span class="nav-text">2. 切换分支</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-%E6%9F%A5%E7%9C%8B%E5%88%86%E6%94%AF"><span class="nav-number">2.3.3.</span> <span class="nav-text">3. 查看分支</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-%E5%90%88%E5%B9%B6%E5%88%86%E6%94%AF"><span class="nav-number">2.3.4.</span> <span class="nav-text">4. 合并分支</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-%E5%88%A0%E9%99%A4%E5%88%86%E6%94%AF"><span class="nav-number">2.3.5.</span> <span class="nav-text">5. 删除分支</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-%E5%88%86%E6%94%AF%E5%86%B2%E7%AA%81"><span class="nav-number">2.3.6.</span> <span class="nav-text">6. 分支冲突</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#7-%E5%90%88%E5%B9%B6%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF"><span class="nav-number">2.3.7.</span> <span class="nav-text">7. 合并远程分支</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-%E9%87%8D%E5%91%BD%E5%90%8D%E5%88%86%E6%94%AF"><span class="nav-number">2.3.8.</span> <span class="nav-text">8.重命名分支</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%82%E5%B8%B8"><span class="nav-number">2.4.</span> <span class="nav-text">异常</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-git-pull-%E6%97%B6%E5%87%BA%E7%8E%B0%E5%86%B2%E7%AA%81"><span class="nav-number">2.4.1.</span> <span class="nav-text">1. git pull 时出现冲突</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-%E6%8E%A8%E9%80%81%E5%BC%82%E5%B8%B8"><span class="nav-number">2.4.2.</span> <span class="nav-text">2.推送异常</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%A6%E4%B9%A0%E9%93%BE%E6%8E%A5"><span class="nav-number">2.5.</span> <span class="nav-text">学习链接</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Wang Wei"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Wang Wei</p>
  <div class="site-description" itemprop="description">Stay hungry, stay foolish.</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">148</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">29</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">126</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/Datura35422" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;Datura35422" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:wangwei35422@163.com" title="E-Mail → mailto:wangwei35422@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/Datura35422" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://datura35422.github.io/posts/953/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Wang Wei">
      <meta itemprop="description" content="Stay hungry, stay foolish.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Wang Wei's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          git常用命令
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2019-03-13 09:04:00" itemprop="dateCreated datePublished" datetime="2019-03-13T09:04:00+08:00">2019-03-13</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2025-03-24 02:16:48" itemprop="dateModified" datetime="2025-03-24T02:16:48+08:00">2025-03-24</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/git%E6%93%8D%E4%BD%9C%E6%8C%87%E5%8D%97/" itemprop="url" rel="index"><span itemprop="name">git操作指南</span></a>
        </span>
    </span>

  
      </div>
      <div class="post-meta">
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>7k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>12 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h3 id="理论"><a href="#理论" class="headerlink" title="理论"></a>理论</h3><p>Git 是一个分布式版本管理系统，是为了更好地管理Linux内核开发而创立的。</p>
<p>Git可以在任何时间点，把文档的状态作为更新记录保存起来。因此可以把编辑过的文档复原到以前的状态，也可以显示编辑前后的内容差异。</p>
<h4 id="管理历史记录的数据库"><a href="#管理历史记录的数据库" class="headerlink" title="管理历史记录的数据库"></a>管理历史记录的数据库</h4><p>数据库 (Repository) 是记录文件或目录状态的地方，存储着内容修改的历史记录。在数据库的管理下，把文件和目录修改的历史记录放在对应的目录下。</p>
<p>远程数据库：配有专用的服务器，为了多人共享而建立的数据库。</p>
<p>本地数据库：为了方便用户个人使用，在自己的机器上配置的数据库。</p>
<h4 id="提交"><a href="#提交" class="headerlink" title="提交"></a>提交</h4><p>若要把文件或目录的添加和变更保存到数据库，就需要进行提交。</p>
<p>执行提交后，数据库中会生成上次提交的状态与当前状态的差异记录（也被称为revision）。</p>
<p>提交是以时间顺序排列状态被保存到数据库中的。凭借该提交和最新的文件状态，就可以知道过去的修改记录以及内容。</p>
<p>每次提交系统会自动生成没有重复的40位英文数字的 hash 值用来命名本次提交。</p>
<h4 id="工作树和索引"><a href="#工作树和索引" class="headerlink" title="工作树和索引"></a>工作树和索引</h4><p>在Git管理下，大家实际操作的目录被称为工作树。</p>
<p>在数据库和工作树之间有索引，索引是为了向数据库提交作准备的区域。</p>
<p>Git在执行提交的时候，不是直接将工作树的状态保存到数据库，而是将设置在中间索引区域的状态保存到数据库。因此，要提交文件，首先需要把文件加入到索引区域中。</p>
<p>所以，凭借中间的索引，可以避免工作树中不必要的文件提交，还可以将文件修改内容的一部分加入索引区域并提交。</p>
<h3 id="实战"><a href="#实战" class="headerlink" title="实战"></a>实战</h3><p>git bash中的命令行是linux操作模式。</p>
<p>查找git命令手册：</p>
<pre class="line-numbers language-console" data-language="console"><code class="language-console">$ git help &lt;verb&gt;
$ git &lt;verb&gt; --help
$ man git-&lt;verb&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>如查找config命令手册，执行<code>git help config</code></p>
<h4 id="git-配置"><a href="#git-配置" class="headerlink" title="git 配置"></a>git 配置</h4><h5 id="1-本地创建ssh-key"><a href="#1-本地创建ssh-key" class="headerlink" title="1. 本地创建ssh key"></a>1. 本地创建ssh key</h5><p>在命令行中输入<code>ssh-keygen -t rsa -C &quot;your_email@youremail.com&quot;</code>，确认路径和输入密码，进入.ssh文件夹中可以看到id_ras(私钥)和id_ras.pub(公钥)，复制公钥中的key配置到git远程仓库，或在命令行中输入<code>cd ~/.ssh</code>进入.ssh文件夹中，再输入<code>cat id_rsa</code>查看私钥，输入<code>cat id_rsa.pub</code>查看公钥。</p>
<h5 id="2-与远程仓库的连接"><a href="#2-与远程仓库的连接" class="headerlink" title="2. 与远程仓库的连接"></a>2. 与远程仓库的连接</h5><p>初始化git之后连接，<code>git remote add origin git@github.com:Datura35422/vueDemo.git</code></p>
<p>查看远程仓库信息：<code>git remote -v</code></p>
<p>删除远程仓库：<code>git remote remove &lt;name&gt;</code></p>
<h5 id="3-验证与远程仓库连接"><a href="#3-验证与远程仓库连接" class="headerlink" title="3. 验证与远程仓库连接"></a>3. 验证与远程仓库连接</h5><p>在命令行中输入如<code>ssh -T git@github.com</code>进行验证与github远程仓库的连接，如果命令行中返回<code>You&#39;ve successfully authenticated, but GitHub does not provide shell access</code>表示验证成功，注意：每个git仓库的验证成功信息不同。</p>
<p>本地已存在仓库建立与远程仓库联系，从远程仓库拉取代码，<code>git pull origin master --allow-unrelated-histories</code></p>
<p>将新的分支推送到远程仓库中，<code>git push origin new_branch</code></p>
<h5 id="4-全局配置"><a href="#4-全局配置" class="headerlink" title="4. 全局配置"></a>4. 全局配置</h5><p>全局配置username：<code>git config --global user.name &quot;your name&quot;</code></p>
<p>全局配置email：<code>git config --global user.email &quot;youremail@email.com&quot;</code></p>
<p>全局配置文本编辑器：git默认编辑器是Vim，如果想配置不同的文本编辑器，如Emacs可以配置<code>git config --global core.editor emacs</code></p>
<p>查看所有配置项：<code>git config --list</code>，如果有重复变量名，git会使用每个变量的最后一个配置。</p>
<p>查看某一项配置：如查看user.name配置，<code>git config user.name</code></p>
<p>配置别名：<code>git config --global alias.st status</code></p>
<h4 id="git-基本操作"><a href="#git-基本操作" class="headerlink" title="git 基本操作"></a>git 基本操作</h4><h5 id="1-克隆远程仓库代码-git-clone"><a href="#1-克隆远程仓库代码-git-clone" class="headerlink" title="1. 克隆远程仓库代码 git clone"></a>1. 克隆远程仓库代码 <code>git clone</code></h5><p>如<code>git clone git@github.com:michaelliao/gitskills.git</code></p>
<p>Git支持多种协议，包括https，但通过ssh支持的原生git协议速度最快</p>
<p>克隆远程仓库就不需要初始化本地仓库</p>
<p>克隆远程仓库的某个分支<code>git clone -b dev git@github.com:michaelliao/gitskills.git</code></p>
<h5 id="2-拉取远程仓库代码-git-pull"><a href="#2-拉取远程仓库代码-git-pull" class="headerlink" title="2. 拉取远程仓库代码 git pull"></a>2. 拉取远程仓库代码 <code>git pull</code></h5><p><code>git pull</code></p>
<h5 id="3-初始化本地仓库-git-init"><a href="#3-初始化本地仓库-git-init" class="headerlink" title="3. 初始化本地仓库 git init"></a>3. 初始化本地仓库 <code>git init</code></h5><p><code>git init</code></p>
<h5 id="4-将工作区代码提交到暂存区-git-add"><a href="#4-将工作区代码提交到暂存区-git-add" class="headerlink" title="4. 将工作区代码提交到暂存区 git add"></a>4. 将工作区代码提交到暂存区 <code>git add</code></h5><p>提交工作区所有修改后的文件：<code>git add .</code></p>
<p>提交工作区具体的某个文件：<code>git add &lt;filename&gt;</code></p>
<p>提交工作区某个文件夹：<code>git add 文件夹</code></p>
<p>提交所有被删除和修改的文件到数据暂存区： <code>git add -u</code> 或<code>git add –update</code></p>
<p>提交所有被删除、被替换、被修改和新增的文件到数据暂存区:  <code>git add -A </code>或<code>git add -all </code></p>
<p>*只有将工作区中的文件添加到暂存区之后才能提交到远程仓库或本地分支</p>
<h5 id="5-查看区别-git-diff"><a href="#5-查看区别-git-diff" class="headerlink" title="5. 查看区别 git diff"></a>5. 查看区别 <code>git diff</code></h5><p>查看工作区与版本库中最新版本的区别：<code>git diff HEAD -- &lt;filename&gt;</code></p>
<p>查看文件详细区别：<code>git diff &lt;filename&gt;</code>, 按<code>Q</code>退出</p>
<h5 id="6-撤销修改git-checkout-lt-filename-gt"><a href="#6-撤销修改git-checkout-lt-filename-gt" class="headerlink" title="6. 撤销修改git checkout -- &lt;filename&gt;"></a>6. 撤销修改<code>git checkout -- &lt;filename&gt;</code></h5><p>撤销工作区的修改，会用最近一次commit或add的文件来覆盖当前修改过的文件。如果修改已经commit到暂存区，则需要进行版本回退。</p>
<p>*如果命令中没有<code>--</code>则是切换到其他分支</p>
<blockquote>
<p><code>git checkout</code> 命令也可以从历史提交（或暂存区域）中拷贝文件到工作目录。当给定某个文件名（或 <code>-p</code> 选项，或同时使用）时，git 会从指定的提交中拷贝文件到暂存区域和工作目录。比如，<code>git checkout HEAD~ foo.c</code>会将提交节点<em>HEAD~</em>(即当前提交节点的父节点)中的<code>foo.c</code>复制到工作目录并且加到暂存区域中。（如果命令中没有指定提交节点，则会从暂存区域中拷贝内容。）注意当前分支不会发生变化。</p>
</blockquote>
<h5 id="7-将暂存区代码提交到分支-git-commit"><a href="#7-将暂存区代码提交到分支-git-commit" class="headerlink" title="7. 将暂存区代码提交到分支 git commit"></a>7. 将暂存区代码提交到分支 <code>git commit</code></h5><p>然后<code>git commit</code>提交更改，将缓存区的所有内容提交到当前分支。</p>
<p>其中，<code>git commit -m &#39;xxxx&#39;</code>写提交备注</p>
<p>如果出现权限问题和403错误，就是远程仓库没有授权，请查看远程仓库的配置。</p>
<p>如果想要更改一次提交，可以使用 <code>git commit --amend</code> 命令。git 会使用与当前提交相同的父节点进行一次新提交，旧的提交会被取消。</p>
<h5 id="8-删除文件-git-rm"><a href="#8-删除文件-git-rm" class="headerlink" title="8. 删除文件 git rm"></a>8. 删除文件 <code>git rm</code></h5><p>删除版本库中的文件：<code>git rm &lt;filename&gt;</code></p>
<p>不删除物理文件，仅将该文件从缓存中删除：<code>git rm --cached</code></p>
<p>如果在工作区误删了文件，可以使用<code>git checkout &lt;filename&gt;</code>恢复文件</p>
<h5 id="9-查看历史记录-git-log"><a href="#9-查看历史记录-git-log" class="headerlink" title="9. 查看历史记录 git log"></a>9. 查看历史记录 <code>git log</code></h5><p>简化历史记录： <code>git log --pretty=oneline</code></p>
<p>树形结构查看历史记录：<code>git log --oneline --graph --decorate --all</code></p>
<h5 id="10-查看命令历史-git-reflog"><a href="#10-查看命令历史-git-reflog" class="headerlink" title="10. 查看命令历史 git reflog"></a>10. 查看命令历史 <code>git reflog</code></h5><p>从中获知未来版本的版本号并进行穿梭。</p>
<p>记录每一次HEAD指针版本指向问题。</p>
<h5 id="11-版本回退-git-reset"><a href="#11-版本回退-git-reset" class="headerlink" title="11.版本回退 git reset"></a>11.版本回退 <code>git reset</code></h5><p>将暂存区修改回退到工作区：<code>git reset HEAD &lt;filename&gt;</code>，如果修改已经添加至暂存区，可以使用<code>git reset</code>，将暂存区的版本回退，重新放回工作区。</p>
<p>回退当前版本：<code>git reset --hard HEAD</code></p>
<p>回退上一个版本：<code>git reset --hard HEAD^</code></p>
<p>回退上上个版本：<code>git reset --hard HEAD^^</code></p>
<p>回退指定版本：<code>git reset --hard headname</code>，其中headname可以在<code>git log</code>中查看到版本号。版本号（哈希值）可以不用写全。</p>
<p><code>git reset --mixed</code>：默认方式，版本库中回退到某个版本，工作区保留源码。</p>
<p><code>git reset --soft</code>：回退到某个版本，只回退了 commit 的信息，不会恢复到 index file 一级，如果需要提交则 commit。</p>
<p><code>git reset --hard</code>：彻底回退到某个版本，本地源码也会变为上一个版本的内容。</p>
<blockquote>
<p>回退之后想要修改代码，需要强制推代码上去覆盖远程仓库 history：<code>git push -f</code></p>
</blockquote>
<h5 id="12-tag标签-git-tag"><a href="#12-tag标签-git-tag" class="headerlink" title="12. tag标签 git tag"></a>12. tag标签 <code>git tag</code></h5><p>版本标签，对某一个时间点上的版本打上标签。</p>
<p>列出已有的标签：<code>git tag</code></p>
<p>查看一系列的标签：<code>git tag -l &#39;v1.4.2.*&#39;</code></p>
<p>新建轻量级标签：<code>git tag v1.4</code>（指向特定提交对象的引用）</p>
<p>新建含附注的标签：<code>git tag -a v1.4 -m &#39;备注&#39;</code>（存储在仓库中的一个独立对象，它有自身的校验和信息，包含着标签的名字，电子邮件地址和日期，以及标签说明，标签本身也允许使用GPG来签署或验证）</p>
<p>查看相应标签的版本信息：<code>git show v1.4</code></p>
<p>签署标签：<code>git tag -s v1.4 -m &#39;my signed 1.4 tag&#39;</code>（自己的私钥，还可以用 GPG 来签署标签）</p>
<p>验证标签：<code>git tag -v v1.4</code>（会调用 GPG 来验证签名，没有公钥会报错）</p>
<p>后期加注标签：<code>git tag -a v1.2 提交历史哈希值</code>（使用<code>git log --pretty=oneline</code>查看提交历史，哈希值不用写全）</p>
<p>提交标签：<code>git push origin v1.4</code></p>
<p>提交所有新增标签：<code>git push origin --tags</code></p>
<p>删除标签：<code>git tag -d v1.4</code></p>
<p>删除远程标签：需要先删除本地标签，<code>git push origin :refs/tags/v1.4</code></p>
<h5 id="13-备份当前工作内容-git-stash"><a href="#13-备份当前工作内容-git-stash" class="headerlink" title="13. 备份当前工作内容 git stash"></a>13. 备份当前工作内容 <code>git stash</code></h5><p><code>git stash</code>：备份当前的工作区的内容，从最近的一次提交中读取相关内容，让工作区保证和上次提交的内容一致。同时，将当前的工作区内容保存到Git栈中。</p>
<p><code>git stash save [message]</code> ：备份当前的工作区内容且设置备注。</p>
<p><code>git stash pop</code>：从Git栈中读取最近一次保存的内容，恢复工作区的相关内容并删除stash中的内容。由于可能存在多个Stash的内容，所以用栈来管理，pop会从最近的一个stash中读取内容并恢复。</p>
<p>显示Git栈内的所有备份：<code>git stash list</code>，可以利用这个列表来决定从那个地方恢复。</p>
<p>清空Git栈：<code>git stash clear</code></p>
<p>恢复现场：<code>git stash apply</code>，需要用<code>git stash drop</code>删除stash中的内容。</p>
<p>删除stash中的内容：<code>git stash drop</code></p>
<p>多次保存工作现场后，恢复指定的工作现场，<code>git stash apply stash@&#123;0&#125;</code>。</p>
<h5 id="14-改写提交-git-cherry-pick"><a href="#14-改写提交-git-cherry-pick" class="headerlink" title="14. 改写提交 git cherry-pick"></a>14. 改写提交 <code>git cherry-pick</code></h5><p><code>cherry-pick</code> 命令”复制”一个提交节点并在当前分支做一次完全一样的新提交。</p>
<p>参考链接： <a target="_blank" rel="noopener" href="https://backlog.com/git-tutorial/cn/stepup/stepup7_4.html">https://backlog.com/git-tutorial/cn/stepup/stepup7_4.html</a></p>
<h5 id="15-合并命令-git-rebase"><a href="#15-合并命令-git-rebase" class="headerlink" title="15. 合并命令 git rebase"></a>15. 合并命令 <code>git rebase</code></h5><p>衍合是合并命令的另一种选择。合并把两个父分支合并进行一次提交，提交历史不是线性的。衍合在当前分支上重演另一个分支的历史，提交历史是线性的。 本质上，这是线性化的自动的 <code>cherry-pick</code> </p>
<p><code>git rebase -i HEAD~~</code>：合并最近的两次提交，合并后进行提交。</p>
<p>fast-forward 合并</p>
<p><code>git rebase 分支名</code>：和 merge 时的操作相同，如果有冲突需要修改冲突，冲突修改后会 history 指针为最新的提交。</p>
<p><code>git rebase --continue</code>：修改冲突后的提交不是使用commit命令，而是执行rebase命令指定 –continue选项。若要取消rebase，指定 –abort选项。</p>
<h5 id="16-取消过去的提交-git-revert"><a href="#16-取消过去的提交-git-revert" class="headerlink" title="16. 取消过去的提交 git revert"></a>16. 取消过去的提交 <code>git revert</code></h5><p><code>git revert HEAD</code>：取消最新的一次提交，可以把 HEAD 改为提交的哈希值。</p>
<h4 id="git-分支操作"><a href="#git-分支操作" class="headerlink" title="git 分支操作"></a>git 分支操作</h4><h5 id="1-创建分支-dev"><a href="#1-创建分支-dev" class="headerlink" title="1. 创建分支 dev"></a>1. 创建分支 dev</h5><p>创建并切换分支： <code>git checkout -b dev</code> </p>
<p>创建分支： <code>git branch dev</code>,在需要创建的分支上创建子分支。</p>
<p>在本地上创建与远程分支对应的分支：<code>git checkout -b &lt;分支名&gt; origin/&lt;分支名&gt;</code> 或 <code>git checkout -t origin/&lt;分支名&gt;</code></p>
<p>本地分支与远程分支进行连接: <code>git branch --set-upstream-to=origin/&lt;branch&gt; &lt;branch&gt;</code></p>
<blockquote>
<p>创建分支注意不要和标签名发生冲突，否则会存在一对多的情况，最后只能删除分支或者标签，同名标签和分支不能共存。</p>
</blockquote>
<h5 id="2-切换分支"><a href="#2-切换分支" class="headerlink" title="2. 切换分支"></a>2. 切换分支</h5><p>切换分支：<code>git checkout 分支名</code> (可以在未创建与远程分支对应分支情况下切换到该分支并拉取代码)</p>
<h5 id="3-查看分支"><a href="#3-查看分支" class="headerlink" title="3. 查看分支"></a>3. 查看分支</h5><p>查看本地分支和当前分支 ：<code>git branch</code></p>
<p>查看远程和本地分支： <code>git branch -a</code></p>
<p>查看远程分支：<code>git branch -r</code></p>
<p>查看已删除分支情况：<code>git remote show origin</code></p>
<h5 id="4-合并分支"><a href="#4-合并分支" class="headerlink" title="4. 合并分支"></a>4. 合并分支</h5><p>合并指定分支到当前分支：<code>git merge &lt;分支名&gt;</code></p>
<h5 id="5-删除分支"><a href="#5-删除分支" class="headerlink" title="5. 删除分支"></a>5. 删除分支</h5><p>删除分支：<code>git branch -d &lt;分支名&gt;</code></p>
<p>强行删除分支：<code>git branch -D &lt;分支名&gt;</code></p>
<p>删除远程分支：<code>git push origin --delete &lt;分支名&gt;</code></p>
<p>删除远程不存在的分支：<code>git remote prune origin</code></p>
<p>删除分支的远程追踪：<code>git branch -r -d origin/分支名</code></p>
<h5 id="6-分支冲突"><a href="#6-分支冲突" class="headerlink" title="6. 分支冲突"></a>6. 分支冲突</h5><p>在主分支上必须手动解决冲突之后再提交</p>
<p>查看分支冲突部分：<code>git status</code></p>
<p>查看分支合并情况： <code>git log --graph --petty=online --abbrev-commit</code></p>
<p>查看分支合并图：<code>git log --graph</code></p>
<h5 id="7-合并远程分支"><a href="#7-合并远程分支" class="headerlink" title="7. 合并远程分支"></a>7. 合并远程分支</h5><p>先将需要合并的远程分支拉取到本地，然后进行合并，如果有冲突需要解决冲突后提交。</p>
<p>推送到远程分支：<code>git push origin master</code></p>
<p>将新分支推送到远程仓库：<code>git push --set-upstream origin &lt;分支名&gt;</code></p>
<h5 id="8-重命名分支"><a href="#8-重命名分支" class="headerlink" title="8.重命名分支"></a>8.重命名分支</h5><p>重命名分支： <code>git branch -m &lt;分支名&gt;</code> 或 <code>git branch -m &lt;旧分支名&gt; &lt;新分支名&gt;</code></p>
<h4 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h4><h5 id="1-git-pull-时出现冲突"><a href="#1-git-pull-时出现冲突" class="headerlink" title="1. git pull 时出现冲突"></a>1. git pull 时出现冲突</h5><p>错误提示：<code>error: Your local changes to the following files would be overwritten by merge</code></p>
<p>方法1：如果你想保留刚才本地修改的代码，并把<code>git</code>服务器上的代码<code>pull</code>到本地（本地刚才修改的代码将会被暂时封存起来）</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> stash // 保存当前工作区内容
<span class="token function">git</span> pull origin master // 拉取远程仓库master分支
<span class="token function">git</span> stash pop // 恢复工作区内容<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>方法2：如果你想完全地覆盖本地的代码，只保留服务器端代码，则直接回退到上一个版本，再进行pull</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> reset <span class="token parameter variable">--hard</span> // 版本回退
<span class="token function">git</span> pull orgin master // 拉取远程仓库master分支<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="2-推送异常"><a href="#2-推送异常" class="headerlink" title="2.推送异常"></a>2.推送异常</h5><p><strong>错误提示</strong>：<code>error: failed to push some refs to xxx</code></p>
<p>大致意思：本地和远程的文件应该合并后才能上传本地的新文件</p>
<p>解决方法：先更新再提交，<code>git pull</code> -&gt; <code>git push</code></p>
<p>如果<code>git pull</code>出现错误：<code>Pull is not possible because you have unmerged files.</code></p>
<p>本地的<code>push</code>和<code>merge</code>会形成<code>MERGE-HEAD(FETCH-HEAD)</code>, <code>HEAD（PUSH-HEAD）</code>这样的引用。<code>HEAD</code>代表本地最近成功<code>push</code>后形成的引用。<code>MERGE-HEAD</code>表示成功<code>pull</code>后形成的引用。可以通过<code>MERGE-HEAD</code>或者<code>HEAD</code>来实现类型与<code>svn revet</code>的效果。</p>
<p>解决方法：</p>
<p>1.<code>pull</code>会使用<code>git merge</code>导致冲突，需要将冲突的文件<code>resolve</code>掉 <code>git add -u</code>, <code>git commit</code>之后才能成功<code>pull</code>。</p>
<p>2.如果想放弃本地的文件修改，将本地的冲突文件冲掉，不仅需要<code>reset</code>到<code>MERGE-HEAD</code>或者<code>HEAD</code>,还需要<code>--hard</code>。没有后面的<code>hard</code>，不会冲掉本地工作区。只会冲掉<code>stage</code>区。可以使用<code>git reset --hard FETCH_HEAD</code>，<code>FETCH_HEAD</code>表示上一次成功<code>git pull</code>之后形成的<code>commit</code>点。然后<code>git pull</code>。<br>注意：</p>
<p><code>git merge</code>会形成<code>MERGE-HEAD(FETCH-HEAD)</code> 。<code>git push</code>会形成<code>HEAD</code>这样的引用。<code>HEAD</code>代表本地最近成功<code>push</code>后形成的引用。</p>
<p><strong>错误提示</strong>：<code>fatal: refusing to merge unrelated histories</code></p>
<p>大致意思：拒绝合并不相关的历史。因本地仓库和远程仓库是两个独立的仓库，所以要强制合并成一个仓库。</p>
<p>解决方法： <code>git pull origin master --allow-unrelated-histories</code></p>
<h4 id="学习链接"><a href="#学习链接" class="headerlink" title="学习链接"></a>学习链接</h4><p><a target="_blank" rel="noopener" href="https://backlog.com/git-tutorial/cn/">猴子都能懂的GIT入门</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/521xueweihan/git-tips">GIT奇技淫巧</a>：<a target="_blank" rel="noopener" href="https://github.com/git-tips/tips">英文版原文</a></p>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>Wang Wei
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://datura35422.github.io/posts/953/" title="git常用命令">https://datura35422.github.io/posts/953/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="post-tags">
              <a href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag"># 工具</a>
              <a href="/tags/git/" rel="tag"># git</a>
              <a href="/tags/ssh/" rel="tag"># ssh</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/posts/56580/" rel="prev" title="小程序-wepy入门-1">
                  <i class="fa fa-chevron-left"></i> 小程序-wepy入门-1
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/posts/26103/" rel="next" title="BOM系列-打开页面的方式">
                  BOM系列-打开页面的方式 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>





<script src="/js/comments.js"></script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wang Wei</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">707k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">19:38</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@next-theme/pjax@0.5.0/pjax.min.js" integrity="sha256-3NkoLDrmHLTYj7csHIZSr0MHAFTXth7Ua/DDt4MRUAg=" crossorigin="anonymous"></script>


<script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.7/lib/darkmode-js.min.js"></script>
<script>
var options = {
  bottom: '64px', // default: '32px'
  right: '32px', // default: '32px'
  left: 'unset', // default: 'unset'
  time: '0.5s', // default: '0.3s'
  mixColor: '#fff', // default: '#fff'
  backgroundColor: '#fff',  // default: '#fff'
  buttonColorDark: '#100f2c',  // default: '#100f2c'
  buttonColorLight: '#fff', // default: '#fff'
  saveInCookies: true, // default: true,
  label: '🌓', // default: ''
  autoMatchOsTheme: true // default: true
}
const darkmode = new Darkmode(options);
darkmode.showWidget();
</script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script><script src="/js/pjax.js"></script>

  
<script src="/js/third-party/search/local-search.js"></script>






  





<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"superSample":2,"width":120,"height":200,"position":"right","hOffset":0,"vOffset":60},"mobile":{"show":false,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
